@import "tailwindcss";
@plugin './hero.ts';

@source '../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';
@custom-variant dark (&:is(.dark *));

/* index.css - AGGRESSIVE TUNING FOR VISIBILITY */
@layer components {
    main [data-slot="input-wrapper"],
    main [data-slot="trigger"],
    main [data-slot="inner-wrapper"] {
        background-color: hsl(var(--heroui-content1)) !important;
    }
}

@layer components {
    button:not(:disabled) {
        transition: transform 0.16s ease, filter 0.16s ease;
        transform-origin: center center;
        will-change: transform, filter;
        touch-action: manipulation;
    }

    button:not(:disabled):active {
        transform: scale(0.96);
        filter: brightness(1.08);
    }
}

@layer utilities {
    .pressable-row {
        cursor: pointer;
        transition: transform 0.15s ease, filter 0.15s ease;
        transform-origin: center center;
        will-change: transform, filter;
    }

    .pressable-row:active {
        transform: translateY(1px) scale(0.98);
        filter: brightness(1.08);
    }

    .pressable-tab {
        transition: transform 0.12s ease, filter 0.12s ease;
        transform-origin: center center;
        will-change: transform, filter;
    }

    .pressable-tab:active {
        transform: scale(0.92);
        filter: brightness(1.1);
    }

    /* LIGHT - emerald paper */
    .texture-emerald {
        /* base from HeroUI theme */
        background-color: hsl(var(--heroui-background)) !important;

        background-image:
      /* soft emerald glow top-left */ radial-gradient(
                circle at 0% 0%,
                rgba(0, 159, 107, 0.65) 0,
                transparent 52%
            ),
            /* softer emerald glow bottom-right */
                radial-gradient(
                    circle at 100% 100%,
                    rgba(0, 159, 107, 0.8) 0,
                    transparent 58%
                ),
            /* gentle vertical depth – much less white now */
                linear-gradient(
                    180deg,
                    rgba(255, 255, 255, 0.55) 0%,
                    rgba(255, 255, 255, 0.18) 40%,
                    rgba(0, 0, 0, 0.02) 100%
                ),
            /* very faint diagonal grid */
                linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.04) 1px,
                    transparent 1px
                ),
            linear-gradient(
                45deg,
                rgba(255, 255, 255, 0.03) 1px,
                transparent 1px
            );

        background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;

        background-size: 135% 135%, /* radial 1 */ 135% 135%,
            /* radial 2 */ 100% 100%, /* vignette */ 72px 72px,
            /* grid 1 */ 72px 72px;
        /* grid 2 */

        background-attachment: fixed;
    }

    /* DARK – graphite with emerald accent */
    .dark .texture-emerald {
        background-color: hsl(var(--heroui-background)) !important;

        background-image:
      /* emerald glow top-left */ radial-gradient(
                circle at 0% 0%,
                rgba(0, 223, 162, 0.3) 0,
                transparent 45%
            ),
            /* emerald glow bottom-right */
                radial-gradient(
                    circle at 100% 100%,
                    rgba(0, 223, 162, 0.15) 0,
                    transparent 50%
                ),
            /* darker vignette than before – less “foggy” */
                linear-gradient(
                    180deg,
                    rgba(255, 255, 255, 0.015) 0,
                    rgba(0, 0, 0, 0.85) 100%
                ),
            /* subtle graphite grid */
                linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.035) 1px,
                    transparent 1px
                ),
            linear-gradient(45deg, rgba(0, 0, 0, 0.45) 1px, transparent 1px);

        background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;

        background-size: 140% 140%, 140% 140%, 100% 100%, 72px 72px, 72px 72px;

        background-attachment: fixed;
    }
}

/* "Stealth" Scrollbar */
.scrollbar-hide::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollbar-hide::-webkit-scrollbar-track {
    background: transparent;
}

.scrollbar-hide::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
}

.scrollbar-hide::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

:root {
    --app-scrollbar-thumb: rgba(255, 255, 255, 0.18);
    --app-scrollbar-thumb-hover: rgba(255, 255, 255, 0.35);
}

@layer components {
    .app-titlebar {
        -webkit-app-region: drag;
        position: relative;
        border-radius: inherit;
    }

    .app-titlebar :where(
        button,
        input,
        textarea,
        select,
        a,
        [role="button"],
        [role="tab"]
    ) {
        -webkit-app-region: no-drag;
    }
}

@layer components {
    .glass-panel {
        position: relative;
        overflow: hidden;
    }

    .glass-panel::before,
    .glass-panel::after {
        content: "";
        pointer-events: none;
        position: absolute;
        left: 0;
        right: 0;
        border-radius: inherit;
    }

    .glass-panel::before {
        inset: 0;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        border-bottom: 1px solid rgba(0, 0, 0, 0.45);
        box-shadow: inset 0 -10px 18px rgba(0, 0, 0, 0.45);
    }

    .glass-panel::after {
        top: 0;
        height: 1px;
        background: linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.35),
            transparent
        );
    }

    .inspector-shell {
        border-radius: 20px;
        border: 1px solid color-mix(in srgb, var(--heroui-default), transparent 60%);
        background-color: color-mix(
            in srgb,
            var(--heroui-content1) 90%,
            transparent 10%
        );
        backdrop-filter: blur(24px);
        box-shadow: 0 35px 60px rgba(0, 0, 0, 0.45);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
        background-clip: padding-box;
    }
}

@layer utilities {
    .cap-height-text {
        line-height: 1;
        transform: translateY(-0.75px);
    }

    :where(body, .overlay-scrollbar) {
        scrollbar-width: thin;
        scrollbar-color: transparent transparent;
        scrollbar-gutter: stable both-edges;
    }

    :where(body, .overlay-scrollbar)::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    :where(body, .overlay-scrollbar)::-webkit-scrollbar-track {
        background: transparent;
    }

    :where(body, .overlay-scrollbar)::-webkit-scrollbar-thumb {
        background: var(--app-scrollbar-thumb);
        border-radius: 999px;
        border: 1px solid transparent;
        min-height: 24px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.12);
        transition: background 0.2s ease, transform 0.2s ease, opacity 0.2s ease;
        transform-origin: center;
        opacity: 0;
        transform: scaleY(0.6);
    }

    :where(body, .overlay-scrollbar):not(:hover)::-webkit-scrollbar-thumb {
        opacity: 0;
        transform: scaleY(0.5);
    }

    :where(body, .overlay-scrollbar):hover::-webkit-scrollbar-thumb,
    :where(body, .overlay-scrollbar):focus-within::-webkit-scrollbar-thumb {
        width: 8px;
        background: var(--app-scrollbar-thumb-hover);
        opacity: 1;
        transform: scaleY(1.05);
    }

    :where(body, .overlay-scrollbar)::-webkit-scrollbar-thumb:hover {
        transform: scaleY(1.15);
    }

    :where(body, .overlay-scrollbar)::-webkit-scrollbar-corner {
        background: transparent;
    }
}
